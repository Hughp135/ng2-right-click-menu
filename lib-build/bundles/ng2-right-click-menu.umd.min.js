!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common"],e):e(t["ng2-right-click-menu"]={},t.ng.core,t.ng.common)}(this,function(t,e,n){"use strict";var o=function(){function t(t){this.elmRef=t}return t.prototype.ngAfterContentInit=function(){this.elmRef.nativeElement.insertAdjacentHTML("afterbegin",this.content)},t}();o.decorators=[{type:e.Directive,args:[{selector:"[sh-html]"}]}],o.ctorParameters=function(){return[{type:e.ElementRef}]},o.propDecorators={content:[{type:e.Input,args:["sh-html"]}]};var i=function(){return function(){this.onClick=new e.EventEmitter}}();i.decorators=[{type:e.Component,args:[{selector:"sh-context-overlay",template:'<div class="sh-context-overlay" (mousedown)="onClick.emit()"></div>',styles:["\n    .sh-context-overlay{\n      position: fixed;\n      top:0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      z-index: 9998;\n      background-color: transparent;\n   }\n  "]}]}],i.ctorParameters=function(){return[]},i.propDecorators={onClick:[{type:e.Output}]};var r=function(){function t(t,e,n){this.applicationRef=t,this.componentFactoryResolver=e,this.injector=n}return t.prototype.getRootViewContainer=function(){if(this._container)return this._container;var t=this.applicationRef.components;if(t.length)return t[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer.")},t.prototype.setRootViewContainer=function(t){this._container=t},t.prototype.getComponentRootNode=function(t){return t.hostView.rootNodes[0]},t.prototype.getRootViewContainerNode=function(){return this.getComponentRootNode(this.getRootViewContainer())},t.prototype.projectComponentInputs=function(t,e){if(e)for(var n=0,o=Object.getOwnPropertyNames(e);n<o.length;n++){var i=o[n];t.instance[i]=e[i]}return t},t.prototype.appendComponent=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=this.getRootViewContainerNode());var o=this.componentFactoryResolver.resolveComponentFactory(t).create(this.injector),i=this.applicationRef,r=this.getComponentRootNode(o);return this.projectComponentInputs(o,e),i.attachView(o.hostView),o.onDestroy(function(){i.detachView(o.hostView)}),n.appendChild(r),o},t}();r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:e.ApplicationRef},{type:e.ComponentFactoryResolver},{type:e.Injector}]};var s={rtl:!1,theme:"light"},c=function(){function t(){}return t.prototype.setOptions=function(t){return this.options=Object.assign({},s,t),this.options},t.prototype.getOptions=function(){return this.options},t}();c.decorators=[{type:e.Injectable}],c.ctorParameters=function(){return[]};var p=function(){return function(){}}();p.decorators=[{type:e.NgModule,args:[{providers:[c,r]}]}],p.ctorParameters=function(){return[]};var a=function(){function t(t){this.ctxService=t,this.onClose=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.options=this.ctxService.getOptions()},t.prototype.ngAfterContentInit=function(){this.options.rtl&&this.setRtlLocation()},t.prototype.getLabel=function(t){return"string"==typeof t.label?t.label:"function"==typeof t.label?t.label(this.dataContext):""},t.prototype.close=function(){this.onClose.emit()},t.prototype.onClick=function(t){this.isItemDisabled(t)||t.onClick&&(this.close(),this.invokeOnClickWithTimeOut(t))},t.prototype.invokeOnClickWithTimeOut=function(t){var e=this;setTimeout(function(){t.onClick&&t.onClick({menuItem:t,dataContext:e.dataContext})},0)},t.prototype.isItemDisabled=function(t){return!!t.disabled&&t.disabled(this.dataContext)},t.prototype.isItemVisible=function(t){return!t.visible||t.visible(this.dataContext)},t.prototype.setRtlLocation=function(){var t=this.childRef.nativeElement.getClientRects()[0];this.position.left=this.position.left-t.width},t}();a.decorators=[{type:e.Component,args:[{selector:"sh-context-menu",template:'\n    <div #childRef class="sh-context--container"\n      [class.dark]="options.theme == \'dark\'"\n      [style.left]="position.left + \'px\'"\n      [style.top]="position.top + \'px\'"\n      [style.direction]="(options.rtl ? \'rtl\' : \'ltr\' )">\n      <ul>\n          <li *ngFor="let item of items"\n            [ngClass]="{\'sh-menu-item\': !item.divider, \'sh-context-divider\': item.divider, \'sh-menu-disabled\': isItemDisabled(item), \'sh-menu-hidden\': !isItemVisible(item)}"\n            (click)="onClick(item)">\n              <div *ngIf="!item.divider && !item.subMenu" [sh-html]="getLabel(item)">\n              </div> \n              <div *ngIf="item.subMenu"\n                [sh-context-sub-menu]="item.subMenuItems"\n                [sh-data-context]="dataContext"\n                (closeSubMenu)="close()"\n                [sh-html]="item.label">\n               <div [ngClass]="{\'right-arrow\': !options.rtl, \'left-arrow\': options.rtl}"></div>\n              </div>\n          </li>\n      </ul>\n    </div>\n',styles:["\n  .sh-context--container{\n    font-family: sans-serif;\n    position: fixed;\n    background: #ececec;\n    min-width: 150px;\n    border: 1px solid rgba(0,0,0,0.2);\n    border-radius: 3px;\n    box-shadow: 0 0 10px 2px rgba(0,0,0,0.1);\n    z-index: 9999;\n    color: black;\n\n    \n  }\n  .dark{\n      background:#383737 !important;\n      color:white !important;\n    }\n  .sh-context--container ul{\n    list-style: none;\n    padding: 5px 0;\n    margin: 0;\n  }\n\n  .sh-context--container ul li{\n      padding: 5px 10px 5px 15px;\n      transition: all 0.15s;\n  }\n\n  .sh-context--container ul li.sh-context-divider{\n      height: 1px;\n      margin: 1px 1px 8px 1px;\n      overflow: hidden;\n      border-bottom: 1px solid #d0d0d0;\n      line-height: 10px;\n    }\n\n  .sh-context--container ul li.sh-menu-item:hover{\n      cursor: pointer;\n      background: #4b8bec;\n      color: white;\n  }\n \n   .sh-context--container.dark ul li.sh-menu-item:hover{\n      cursor: pointer;\n      background: #4b8bec;\n      color: white;\n  }\n  .sh-context--container ul li.sh-menu-disabled{\n      color: #d0d0d0;\n   }\n\n   .sh-context--container ul li.sh-menu-item.sh-menu-hidden{\n      display: none;\n   }\n\n  .sh-context--container ul li.sh-menu-disabled:hover{\n      cursor: not-allowed;\n      color: #d0d0d0;\n      background: #ececec;\n  }\n\n  .right-arrow{\n    float: right;\n    margin-left: 10px;\n    margin-top: 3px;\n    border-top: 6px solid transparent;\n    border-bottom: 6px solid transparent;\n    border-left: 8px solid black;\n  }\n\n  .left-arrow{\n    float: left;\n    margin-right: 10px;\n    margin-top: 3px;\n    border-top: 6px solid transparent;\n    border-bottom: 6px solid transparent;\n    border-right: 8px solid black;\n  }\n"]}]}],a.ctorParameters=function(){return[{type:c}]},a.propDecorators={position:[{type:e.Input}],items:[{type:e.Input}],dataContext:[{type:e.Input}],onClose:[{type:e.Output}],childRef:[{type:e.ViewChild,args:["childRef"]}]};var u=function(){function t(t,n){this.ctxService=t,this.injectionService=n,this.onBeforeMenuOpen=new e.EventEmitter}return t.prototype.onClick=function(t){var e=this;if(this.options=this.ctxService.setOptions(this.options),this.closeMenu(),!this.contextMenuIsEmpty())return this.onBeforeMenuOpen.observers.length>0?this.onBeforeMenuOpen.emit({event:t,items:this.menuItems,open:function(n){return void 0===n&&(n=e.menuItems),e.createMenu(t,n)}}):this.createMenu(t),!1},t.prototype.createMenu=function(t,e){void 0===e&&(e=this.menuItems),this.overlayComponent=this.createOverlayComponent(),this.ctxComponent=this.createContextComponent(),this.registerBindings(e),this.registerEvents(),this.setLocation(t)},t.prototype.registerEvents=function(){var t=this;this.ctxComponent.instance.onClose.subscribe(function(){t.closeMenu()}),this.overlayComponent.instance.onClick.subscribe(function(){t.closeMenu()})},t.prototype.registerBindings=function(t){this.ctxComponent.instance.items=t,this.ctxComponent.instance.dataContext=this.dataContext},t.prototype.createContextComponent=function(){return this.injectionService.appendComponent(a)},t.prototype.createOverlayComponent=function(){return this.injectionService.appendComponent(i)},t.prototype.setLocation=function(t){var e=t.clientX,n=t.clientY;this.ctxComponent.instance.position={top:n,left:e}},t.prototype.closeMenu=function(){this.ctxComponent&&this.ctxComponent.destroy(),this.overlayComponent&&this.overlayComponent.destroy()},t.prototype.contextMenuIsEmpty=function(){return!this.menuItems||0===this.menuItems.length},t}();u.decorators=[{type:e.Directive,args:[{selector:"[sh-context]"}]}],u.ctorParameters=function(){return[{type:c},{type:r}]},u.propDecorators={menuItems:[{type:e.Input,args:["sh-context"]}],dataContext:[{type:e.Input,args:["sh-data-context"]}],options:[{type:e.Input,args:["sh-options"]}],onBeforeMenuOpen:[{type:e.Output,args:["onBeforeMenuOpen"]}],onClick:[{type:e.HostListener,args:["contextmenu",["$event"]]}]};var l=function(){function t(t,n,o,i){this.viewRef=t,this.elmRef=n,this.resolver=o,this.ctxService=i,this.closeSubMenu=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.options=this.ctxService.getOptions()},t.prototype.onMouseOver=function(t){return this.closeCurrent(),this.ctxComponent=this.createContextComponent(),this.registerBindings(),this.registerEvents(),this.setLocation(),!1},t.prototype.registerEvents=function(){var t=this;this.ctxComponent.instance.onClose.subscribe(function(){t.closeSubMenu.emit()})},t.prototype.registerBindings=function(){this.ctxComponent.instance.items=this.menuItems,this.ctxComponent.instance.dataContext=this.dataContext},t.prototype.createContextComponent=function(){var t=this.resolver.resolveComponentFactory(a);return this.viewRef.createComponent(t)},t.prototype.setLocation=function(){var t=this.elmRef.nativeElement.getClientRects()[0],e=t.top,n=t.left,o=t.width,i={top:e,left:this.options.rtl?n:n+o};this.ctxComponent.instance.position=i},t.prototype.closeMenu=function(){this.closeSubMenu.emit()},t.prototype.closeCurrent=function(){this.viewRef.clear()},t}();l.decorators=[{type:e.Directive,args:[{selector:"[sh-context-sub-menu]"}]}],l.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.ElementRef},{type:e.ComponentFactoryResolver},{type:c}]},l.propDecorators={menuItems:[{type:e.Input,args:["sh-context-sub-menu"]}],dataContext:[{type:e.Input,args:["sh-data-context"]}],closeSubMenu:[{type:e.Output}],onMouseOver:[{type:e.HostListener,args:["mouseover",["$event"]]}]};var h=function(){return function(){}}();h.decorators=[{type:e.NgModule,args:[{declarations:[u,a,l,i,o],exports:[u],imports:[n.CommonModule,p],entryComponents:[a,i]}]}],h.ctorParameters=function(){return[]},t.ShContextMenuModule=h,t.ɵh=o,t.ɵd=r,t.ɵe=a,t.ɵa=u,t.ɵg=i,t.ɵb=c,t.ɵc=p,t.ɵf=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng2-right-click-menu.umd.min.js.map
